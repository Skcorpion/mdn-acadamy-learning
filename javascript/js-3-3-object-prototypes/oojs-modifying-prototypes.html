
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Object-oriented JavaScript class further exercises</title>
    <style>
        html {
        background: linear-gradient(to bottom right, rgb(105, 206, 231), rgb(0, 25, 85)) no-repeat;
        background-attachment: fixed;
        font-family: sans-serif;
    }
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 20px auto;
    }  
    </style>
  </head>

  <body>
    <p>This example requires you to enter commands in your browser's JavaScript console (see <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What are browser developer tools</a> for more information).</p>

  </body>

    <script>
       // creating our finished constructor
       function Person(first, last, age, gender, interests) {
           this.name = {
               'first' : first,
               'last' : last
           };
           this.age = age;
           this.gender = gender;
           this.interests = interests;
           this.bio = function() {
           // first part of text
           let string = this.name.first + ' ' + this.name.last + ' is ' + this.age + ' years old. ';
           // add pronoun
           let pronoun;
            if (this.gender === 'male'||this.gender === 'Male'||this.gender === 'm'||this.gender === 'M') {
              pronoun = 'He likes ';
            } else if (this.gender === 'female'||this.gender === 'Female'||this.gender === 'f'||this.gender === 'F') {
              pronoun = 'She likes ';
            } else {
              pronoun = 'They likes ';
            };

            string += pronoun;

            // check interests length
            if (this.interests.length === 1) {
              string += this.interests[0] + '.'; 
            } else if (this.interests.length === 2) {
              string += this.interests[0] + ' and ' + this.interests[1] + '.';
            } else {
              // if more the 2 create loop 
              for (let i = 0; i < this.interests.length; i++) {
                // for last element
                if (i === this.interests.length - 1) {
                  string += 'and ' + this.interests[i] + '.';
                // and all else 
                } else {
                  string += this.interests[i] + ', ';
                }
              }
            }
            // finally
            alert(string);
           };
           this.greeting = function() {
            alert('Hi! I\'m ' + this.name.first + '.');
           };
       };
      var person1 = new Person('Tammi', 'Smith', 32, 'neutral', ['music', 'skiing', 'kickboxing']);

      // adds a new method to the constructor's prototype property: 
      Person.prototype.farewell = function() {
        alert(this.name.first + ' has left the building. Bye for now!');
      };

      // This however doesn't work, as this will be referencing the global scope in this case, not the function scope.
      Person.prototype.fullName = this.name.first + ' ' + this.name.last;

      /* In fact, a fairly common pattern for more object definitions is to define the properties 
      inside the constructor, and the methods on the prototype. This makes the code easier to read, 
      as the constructor only contains the property definitions, and the methods are split off into 
      separate blocks. For example:

        //Constructor with property definitions

        function Test(a, b, c, d) {
        // property definitions
        }

        // First method definition

        Test.prototype.x = function() { ... };

        // Second method definition

        Test.prototype.y = function() { ... };

        // etc. 
        */
    </script>
</html>